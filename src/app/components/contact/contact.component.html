<section class="contact" id="contact">
  <h2>Me contacter</h2>

  @if(!submitted) {
    <form (ngSubmit)="onSubmit()" [formGroup]="contactForm">
      <label>
        Nom
        <input type="text" formControlName="name">
        @if(contactForm.get('name')?.invalid && contactForm.get('name')?.touched) {
          <span class="error">Nom requis (min 2 caractères)</span>
        }
      </label>

      <label>
        Sujet
        <input type="text" formControlName="title">
        @if(contactForm.get('name')?.invalid && contactForm.get('name')?.touched) {
          <span class="error">Nom requis (min 2 caractères)</span>
        }
      </label>
      <label>
        Email
        <input type="email" formControlName="email">
        @if(contactForm.get('email')?.invalid && contactForm.get('email')?.touched) {
          <span class="error">Email invalide</span>
        }
      </label>

      <label>
        Message
        <textarea formControlName="message"></textarea>
        @if(contactForm.get('message')?.invalid && contactForm.get('message')?.touched) {
          <span class="error">Message requis (min 10 caractères)</span>
        }
      </label>

      <button type="submit" [disabled]="contactForm.invalid">Envoyer</button>
    </form>
  }

  @if(submitted) {
    <p class="success">Merci ! Votre message a été envoyé.</p>
  }
</section>
